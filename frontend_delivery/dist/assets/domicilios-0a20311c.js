import{_ as I,b as r,m as U,p as b,d as k,r as l,o as B,c as C,a,w as y,e as t,U as g,y as D,z as T,g as E,l as R}from"./index-147646d1.js";const n=c=>(D("data-v-0330e318"),c=c(),T(),c),$={class:"col-12 p-3"},j=n(()=>t("p",{class:"text-4xl text-center px-4",style:{"font-weight":"bold","margin-top":"6rem"}},[t("i",{class:"fa-solid fa-truck-arrow-right"}),E(" Domicilios ")],-1)),A={class:"p-fluid"},L={class:"p-field"},O=n(()=>t("label",{for:"name"},"Nombre del Barrio",-1)),P={class:"p-field"},z=n(()=>t("label",{for:"delivery_price"},"Precio de Domicilio",-1)),G={class:"p-field"},J=n(()=>t("label",{for:"site"},"Sede",-1)),M={class:"p-field"},q=n(()=>t("label",{for:"city"},"Ciudad",-1)),F={style:{"max-width":"700px"},class:"m-auto"},H=n(()=>t("div",{style:{display:"flex",gap:"1rem","align-items":"center"}},null,-1)),K={__name:"domicilios",setup(c){const p=r([]),_=r({}),u=r(!1),s=r({neighborhood_id:0,name:"",delivery_price:0,site_id:0,city_id:0}),x=r([]);async function w(){try{if(!(await fetch(`${g}/neighborhoods`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s.value)})).ok)throw new Error("Error al crear el barrio");u.value=!1,console.log("Barrio agregado con Ã©xito")}catch(o){console.error("Error al agregar el barrio:",o)}}const m=U();b(_,(o,e)=>{o&&o.site_id!==void 0&&R.push("/admin/domicilios/31")},{deep:!0}),b(()=>m.path,()=>{const o=m.params.site_id;v().then(e=>{p.value=e,_.value=e.filter(d=>d.site_id==o)[0]})});const v=async()=>{try{const o=await fetch(`${g}/sites`);if(o.ok)return await o.json()}catch{}};return k(async()=>{const o=m.params.site_id;v().then(e=>{p.value=e,_.value=e.filter(d=>d.site_id==o)[0]})}),(o,e)=>{const d=l("InputText"),V=l("InputNumber"),h=l("Dropdown"),f=l("Button"),S=l("Dialog"),N=l("RouterView");return B(),C("div",$,[j,a(S,{visible:u.value,"onUpdate:visible":e[5]||(e[5]=i=>u.value=i),header:"Agregar Nuevo Barrio",modal:!0,closable:!1},{footer:y(()=>[a(f,{label:"Cancelar",icon:"pi pi-times",onClick:e[4]||(e[4]=i=>u.value=!1),class:"p-button-text"}),a(f,{label:"Guardar",icon:"pi pi-check",onClick:w,class:"p-button-text"})]),default:y(()=>[t("div",A,[t("div",L,[O,a(d,{id:"name",modelValue:s.value.name,"onUpdate:modelValue":e[0]||(e[0]=i=>s.value.name=i)},null,8,["modelValue"])]),t("div",P,[z,a(V,{id:"delivery_price",modelValue:s.value.delivery_price,"onUpdate:modelValue":e[1]||(e[1]=i=>s.value.delivery_price=i),mode:"currency",currency:"USD",locale:"en-US"},null,8,["modelValue"])]),t("div",G,[J,a(h,{id:"site",modelValue:s.value.site_id,"onUpdate:modelValue":e[2]||(e[2]=i=>s.value.site_id=i),options:p.value,optionLabel:"site_name",placeholder:"Selecciona una Sede"},null,8,["modelValue","options"])]),t("div",M,[q,a(h,{id:"city",modelValue:s.value.city_id,"onUpdate:modelValue":e[3]||(e[3]=i=>s.value.city_id=i),options:x.value,optionLabel:"name",placeholder:"Selecciona una Ciudad"},null,8,["modelValue","options"])])])]),_:1},8,["visible"]),t("div",F,[H,a(N)])])}}},W=I(K,[["__scopeId","data-v-0330e318"]]);export{W as default};
